{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/01.%20frontend/frontend%20domination/CareOps/frontend/app/app/bookings/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function BookingsPage() {\r\n  const [bookings, setBookings] = useState([]);\r\n\r\n  const loadBookings = async () => {\r\n    const res = await fetch(\"http://localhost:4000/api/bookings\", {\r\n      credentials: \"include\",\r\n    });\r\n    const data = await res.json();\r\n    setBookings(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadBookings();\r\n  }, []);\r\n\r\n  const updateStatus = async (bookingId, status) => {\r\n    await fetch(\r\n      `http://localhost:4000/api/bookings/${bookingId}/status`,\r\n      {\r\n        method: \"PATCH\",\r\n        credentials: \"include\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status }),\r\n      }\r\n    );\r\n\r\n    loadBookings();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Bookings</h1>\r\n\r\n      {bookings.length === 0 ? (\r\n        <p>No bookings found</p>\r\n      ) : (\r\n        <table border=\"1\" cellPadding=\"8\">\r\n          <thead>\r\n            <tr>\r\n              <th>Customer</th>\r\n              <th>Service</th>\r\n              <th>Date</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {bookings.map((b) => (\r\n              <tr key={b._id}>\r\n                <td>{b.contactId?.name}</td>\r\n                <td>{b.serviceName}</td>\r\n                <td>\r\n                  {new Date(b.scheduledAt).toLocaleString()}\r\n                </td>\r\n                <td>{b.status}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={() =>\r\n                      updateStatus(b._id, \"COMPLETED\")\r\n                    }\r\n                  >\r\n                    Complete\r\n                  </button>\r\n                  <button\r\n                    onClick={() =>\r\n                      updateStatus(b._id, \"NO_SHOW\")\r\n                    }\r\n                  >\r\n                    No-show\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>  \r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAE3C,MAAM,eAAe;QACnB,MAAM,MAAM,MAAM,MAAM,sCAAsC;YAC5D,aAAa;QACf;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,YAAY;IACd;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,MAAM,eAAe,OAAO,WAAW;QACrC,MAAM,MACJ,CAAC,mCAAmC,EAAE,UAAU,OAAO,CAAC,EACxD;YACE,QAAQ;YACR,aAAa;YACb,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;QAGF;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;YAEH,SAAS,MAAM,KAAK,kBACnB,6LAAC;0BAAE;;;;;qCAEH,6LAAC;gBAAM,QAAO;gBAAI,aAAY;;kCAC5B,6LAAC;kCACC,cAAA,6LAAC;;8CACC,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;8CACJ,6LAAC;8CAAG;;;;;;;;;;;;;;;;;kCAIR,6LAAC;kCACE,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;;kDACC,6LAAC;kDAAI,EAAE,SAAS,EAAE;;;;;;kDAClB,6LAAC;kDAAI,EAAE,WAAW;;;;;;kDAClB,6LAAC;kDACE,IAAI,KAAK,EAAE,WAAW,EAAE,cAAc;;;;;;kDAEzC,6LAAC;kDAAI,EAAE,MAAM;;;;;;kDACb,6LAAC;;0DACC,6LAAC;gDACC,SAAS,IACP,aAAa,EAAE,GAAG,EAAE;0DAEvB;;;;;;0DAGD,6LAAC;gDACC,SAAS,IACP,aAAa,EAAE,GAAG,EAAE;0DAEvB;;;;;;;;;;;;;+BAnBI,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;AA8B5B;GA/EwB;KAAA"}}]
}