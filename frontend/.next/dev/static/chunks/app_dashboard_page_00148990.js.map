{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/01.%20frontend/frontend%20domination/CareOps/frontend/app/dashboard/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst WORKSPACE_ID = \"698c41f69544ffb5052a58c4\";\r\nconst socket = io(\"http://localhost:4000\");\r\n\r\nexport default function DashboardPage() {\r\n    const [stats, setStats] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchStats = async () => {\r\n        setLoading(true);\r\n        const res = await fetch(\r\n            `http://localhost:4000/api/dashboard/${WORKSPACE_ID}`\r\n        );\r\n        const data = await res.json();\r\n        setStats(data);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Initial load\r\n        fetchStats();\r\n\r\n        // Join workspace room\r\n        socket.emit(\"joinWorkspace\", WORKSPACE_ID);\r\n\r\n        // Listen for dashboard updates\r\n        socket.on(\"dashboard:update\", () => {\r\n            fetchStats();\r\n        });\r\n\r\n        return () => {\r\n            socket.off(\"dashboard:update\");\r\n        };\r\n    }, []);\r\n\r\n    if (loading) return <p>Loading dashboard...</p>;\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\" }}>\r\n            <h2>Dashboard</h2>\r\n\r\n            <section>\r\n                <h3>Leads & Conversations</h3>\r\n                <p>Total conversations: {stats.totalConversations}</p>\r\n                <p>Unanswered conversations: {stats.unansweredConversations}</p>\r\n                <p>New inquiries today: {stats.newInquiriesToday}</p>\r\n            </section>\r\n\r\n            <section style={{ marginTop: \"20px\" }}>\r\n                <h3>Alerts</h3>\r\n                {stats.alerts.length === 0 ? (\r\n                    <p>No alerts</p>\r\n                ) : (\r\n                    stats.alerts.map((alert, i) => <p key={i}>⚠️ {alert}</p>)\r\n                )}\r\n            </section>\r\n\r\n            <section style={{ marginTop: \"20px\" }}>\r\n                <h3>Bookings</h3>\r\n                <p>Total bookings: {stats.totalBookings}</p>\r\n                <p>Today’s bookings: {stats.todaysBookings}</p>\r\n                <p>Upcoming bookings: {stats.upcomingBookings}</p>\r\n                <p>Completed: {stats.completedBookings}</p>\r\n                <p>No-shows: {stats.noShowBookings}</p>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,eAAe;AACrB,MAAM,SAAS,IAAA,wLAAE,EAAC;AAEH,SAAS;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,aAAa;QACf,WAAW;QACX,MAAM,MAAM,MAAM,MACd,CAAC,oCAAoC,EAAE,cAAc;QAEzD,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,SAAS;QACT,WAAW;IACf;IAEA,IAAA,0KAAS;mCAAC;YACN,eAAe;YACf;YAEA,sBAAsB;YACtB,OAAO,IAAI,CAAC,iBAAiB;YAE7B,+BAA+B;YAC/B,OAAO,EAAE,CAAC;2CAAoB;oBAC1B;gBACJ;;YAEA;2CAAO;oBACH,OAAO,GAAG,CAAC;gBACf;;QACJ;kCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,6LAAC;kBAAE;;;;;;IAEvB,qBACI,6LAAC;QAAI,OAAO;YAAE,SAAS;QAAO;;0BAC1B,6LAAC;0BAAG;;;;;;0BAEJ,6LAAC;;kCACG,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;;4BAAE;4BAAsB,MAAM,kBAAkB;;;;;;;kCACjD,6LAAC;;4BAAE;4BAA2B,MAAM,uBAAuB;;;;;;;kCAC3D,6LAAC;;4BAAE;4BAAsB,MAAM,iBAAiB;;;;;;;;;;;;;0BAGpD,6LAAC;gBAAQ,OAAO;oBAAE,WAAW;gBAAO;;kCAChC,6LAAC;kCAAG;;;;;;oBACH,MAAM,MAAM,CAAC,MAAM,KAAK,kBACrB,6LAAC;kCAAE;;;;;+BAEH,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,kBAAM,6LAAC;;gCAAU;gCAAI;;2BAAP;;;;;;;;;;;0BAI/C,6LAAC;gBAAQ,OAAO;oBAAE,WAAW;gBAAO;;kCAChC,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;;4BAAE;4BAAiB,MAAM,aAAa;;;;;;;kCACvC,6LAAC;;4BAAE;4BAAmB,MAAM,cAAc;;;;;;;kCAC1C,6LAAC;;4BAAE;4BAAoB,MAAM,gBAAgB;;;;;;;kCAC7C,6LAAC;;4BAAE;4BAAY,MAAM,iBAAiB;;;;;;;kCACtC,6LAAC;;4BAAE;4BAAW,MAAM,cAAc;;;;;;;;;;;;;;;;;;;AAIlD;GA/DwB;KAAA"}}]
}